# –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å —é–Ω–∏—Ç–∞–º–∏ –∏ —Ñ—Ä–∞–∫—Ü–∏—è–º–∏

–¢—ã –Ω–∞—Ö–æ–¥–∏—à—å—Å—è –Ω–∞ –≤–µ—Ç–∫–µ `experiment/units-factions` –∏ –≥–æ—Ç–æ–≤ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å!

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª—ã v2:
- `backend/src/roguelike/data/humans.units.v2.ts` ‚Äî –¥–ª—è Humans
- `backend/src/roguelike/data/undead.units.v2.ts` ‚Äî –¥–ª—è Undead

–ü—Ä–∏–º–µ—Ä –∏–∑–º–µ–Ω–µ–Ω–∏—è:
```typescript
// humans.units.v2.ts
export const FOOTMAN_T1: RoguelikeUnit = {
  ...FOOTMAN_T1_V1,
  hp: 110, // –±—ã–ª–æ 100 (+10%)
};
```

### 2. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å v1 (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
npm run start

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å v2 (—ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è)
UNITS_VERSION=v2 npm run start

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã —Å v2
UNITS_VERSION=v2 npm test
```

### 3. –û—Ç–∫–∞—Ç

```bash
# –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫
git checkout main
git branch -D experiment/units-factions

# –ò–ª–∏ –ø—Ä–æ—Å—Ç–æ –≤–µ—Ä–Ω–∏—Å—å –Ω–∞ main –∏ —É–¥–∞–ª–∏ –≤–µ—Ç–∫—É
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤

```
backend/src/roguelike/data/
‚îú‚îÄ‚îÄ humans.units.ts          # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (v1)
‚îú‚îÄ‚îÄ humans.units.v1.ts       # –Ø–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç v1
‚îú‚îÄ‚îÄ humans.units.v2.ts       # ‚Üê –†–ï–î–ê–ö–¢–ò–†–£–ô –≠–¢–û–¢ –§–ê–ô–õ
‚îú‚îÄ‚îÄ undead.units.ts          # –û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª (v1)
‚îú‚îÄ‚îÄ undead.units.v1.ts       # –Ø–≤–Ω—ã–π —ç–∫—Å–ø–æ—Ä—Ç v1
‚îú‚îÄ‚îÄ undead.units.v2.ts       # ‚Üê –†–ï–î–ê–ö–¢–ò–†–£–ô –≠–¢–û–¢ –§–ê–ô–õ
‚îú‚îÄ‚îÄ units.version-selector.ts # –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å –≤–µ—Ä—Å–∏–π
‚îî‚îÄ‚îÄ EXPERIMENTS.md           # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–µ—Ä—Å–∏–π

```bash
# –í backend/.env
UNITS_VERSION=v1  # –°—Ç–∞–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)
UNITS_VERSION=v2  # –≠–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
```

## –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç—ã

### –ë–∞–ª–∞–Ω—Å –∞—Ç–∞–∫–∏/–∑–∞—â–∏—Ç—ã
- –£–≤–µ–ª–∏—á–∏—Ç—å ATK Undead –Ω–∞ 5-10%
- –£–º–µ–Ω—å—à–∏—Ç—å HP Humans –Ω–∞ 5%
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å win rate –≤ –±–æ—è—Ö

### –°—Ç–æ–∏–º–æ—Å—Ç—å —é–Ω–∏—Ç–æ–≤
- –£–º–µ–Ω—å—à–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–æ—Ä–æ–≥–∏—Ö —é–Ω–∏—Ç–æ–≤ (Champion, Lich)
- –£–≤–µ–ª–∏—á–∏—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–µ—à—ë–≤—ã—Ö —é–Ω–∏—Ç–æ–≤ (Footman, Zombie)
- –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–∑–Ω–æ–æ–±—Ä–∞–∑–∏–µ –∫–æ–º–∞–Ω–¥

### –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏
- –ò–∑–º–µ–Ω–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç –ø–∞—Å—Å–∏–≤–Ω—ã—Ö —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–µ–π
- –î–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–µ —Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ T3 —é–Ω–∏—Ç–∞–º
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å–∏–Ω–µ—Ä–≥–∏–∏

## –ö–æ–≥–¥–∞ –∑–∞–∫–æ–Ω—á–∏—à—å

### –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ö–æ—Ä–æ—à–∏–µ:
```bash
# –û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª
cp backend/src/roguelike/data/humans.units.v2.ts backend/src/roguelike/data/humans.units.ts
cp backend/src/roguelike/data/undead.units.v2.ts backend/src/roguelike/data/undead.units.ts

# –ú–µ—Ä–∂–∏—Ç—å –≤–µ—Ç–∫—É
git checkout main
git merge experiment/units-factions
```

### –ï—Å–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–ª–æ—Ö–∏–µ:
```bash
# –ü—Ä–æ—Å—Ç–æ —É–¥–∞–ª–∏—Ç—å –≤–µ—Ç–∫—É
git checkout main
git branch -D experiment/units-factions
```

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Ç–µ–∫—É—â—É—é –≤–µ—Ä—Å–∏—é
grep "UNITS_VERSION" backend/.env

# –°—Ä–∞–≤–Ω–∏—Ç—å v1 –∏ v2
diff backend/src/roguelike/data/humans.units.v1.ts backend/src/roguelike/data/humans.units.v2.ts

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ç–µ—Å—Ç—ã —é–Ω–∏—Ç–æ–≤
npm test -- --testPathPattern="units.data"

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º
UNITS_VERSION=v2 npm run start 2>&1 | grep "Units version"
```

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤:
- `backend/src/roguelike/data/EXPERIMENTS.md`

–£–¥–∞—á–∏ —Å —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–º–∏! üöÄ
